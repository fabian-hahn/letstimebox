---
layout: default
---

<style type="text/css" media="screen">
  .container {
    margin: 10px auto;
    max-width: 600px;
    text-align: center;
  }
  h1 {
    margin: 30px 0;
    font-size: 4em;
    line-height: 1;
    letter-spacing: -1px;
  }
</style>

<div class="container">
  <p id="channel-id">channel</p>
</div>

<script>
  if(location.pathname.startsWith("/watch/")) {
    var channelId = location.pathname.substring(7);
  
    document.getElementById('channel-id').innerHTML = channelId;
    
    // Enable pusher logging - don't include this in production
    Pusher.logToConsole = true;

    var pusher = new Pusher('ef8c49c842e4f97adbd5', {
      cluster: 'eu'
    });

    var channel = pusher.subscribe(channelId);
    channel.bind('start-timer', function(data) {
      alert(JSON.stringify(data));
    });
    
    
  } else {
    document.getElementById('channel-id').innerHTML = "Channel not found";
  }
</script>

